<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>深拷贝</title>
</head>

<body>

</body>
<script>
  var obj = {
    id: 1,
    name: 'byron',
    msg: {
      age: 23
    },
    color: ['red', 'blue', 'pink']
  }
  // 浅拷贝
  var qobj = {}
  Object.assign(qobj, obj);
  console.log(qobj);

  // 深拷贝
  var newobj = {}
  function DeepCopy(obj, newObj) {
    for (let key in obj) {
      var item = obj[key];
      if (item instanceof Array) {
        newObj[key] = [];
        DeepCopy(item, newObj[key])
      } else if (item instanceof Object) {
        newObj[key] = {};
        DeepCopy(item, newObj[key])
      } else {
        newObj[key] = item;
      }
    }
    return newObj;
  }

  DeepCopy(obj, newobj)
  obj.msg.age = 30;
  console.log(obj);
  console.log(newobj);
</script>

</html>